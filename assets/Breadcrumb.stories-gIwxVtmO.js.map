{"version":3,"file":"Breadcrumb.stories-gIwxVtmO.js","sources":["../../../src/stories/Breadcrumb.stories.ts"],"sourcesContent":["import type { Meta, StoryObj } from '@storybook/svelte';\nimport { expect, within } from '@storybook/test';\nimport Breadcrumb from '$lib/Breadcrumb.svelte';\nimport { CCLVividColor, CCLPastelColor } from '$lib/const/config';\n\nconst meta = {\n  title: 'CommonComponents/Breadcrumb',\n  component: Breadcrumb,\n  tags: ['autodocs'],\n  parameters: { layout: 'padded' },\n  argTypes: {\n    items: { control: 'object', description: 'パンくず項目の配列' },\n    separator: { control: 'text', description: '区切り文字（slot優先）' },\n    ariaLabel: { control: 'text' },\n    lastItemClickable: { control: 'boolean' },\n    activeColor: {\n      control: { type: 'select' },\n      options: [undefined, ...Object.values(CCLVividColor), ...Object.values(CCLPastelColor)]\n    }\n  }\n} satisfies Meta<Breadcrumb>;\n\nexport default meta;\ntype Story = StoryObj<typeof meta>;\n\nconst baseItems = [\n  { label: 'Home', href: '#' },\n  { label: 'Library', href: '#' },\n  { label: 'Data' }\n];\n\nexport const Default: Story = {\n  args: { items: baseItems, separator: '/', ariaLabel: 'Breadcrumb' },\n  play: async ({ canvasElement, step }) => {\n    const canvas = within(canvasElement);\n    await step('navのaria-labelが指定通りであること', async () => {\n      const nav = canvas.getByLabelText('Breadcrumb');\n      await expect(nav).toBeInTheDocument();\n    });\n    await step('最後の要素が現在地としてマークされていること', async () => {\n      const last = await canvas.findByText('Data');\n      await expect(last).toHaveAttribute('aria-current', 'page');\n    });\n    await step('セパレータが表示されていること', async () => {\n      const seps = canvas.getAllByText('/', { exact: true });\n      await expect(seps.length).toBe(baseItems.length - 1);\n    });\n  }\n};\n\nexport const WithClickableLast: Story = {\n  args: {\n    items: [\n      { label: 'Home', href: '#' },\n      { label: 'Projects', href: '#' },\n      { label: 'Svelte', href: '#' }\n    ],\n    lastItemClickable: true,\n    activeColor: CCLVividColor.SODA_BLUE\n  },\n  play: async ({ canvasElement, step }) => {\n    const canvas = within(canvasElement);\n    await step('最後の要素がリンクであること', async () => {\n      const last = canvas.getByText('Svelte');\n      await expect(last.tagName).toBe('A');\n    });\n    await step('最後の要素にaria-currentが付与されていないこと', async () => {\n      const last = canvas.getByText('Svelte');\n      await expect(last).not.toHaveAttribute('aria-current');\n    });\n    await step('アクティブ要素の色が指定通りであること', async () => {\n      const last = canvas.getByText('Svelte') as HTMLElement;\n      await expect(last.getAttribute('style')).toContain(`var(${CCLVividColor.SODA_BLUE})`);\n    });\n  }\n};\n"],"names":["meta","title","component","Breadcrumb","tags","parameters","layout","argTypes","items","control","description","separator","ariaLabel","lastItemClickable","activeColor","type","options","undefined","Object","values","CCLVividColor","CCLPastelColor","baseItems","label","href","Default","args","play","canvasElement","step","canvas","within","nav","getByLabelText","expect","toBeInTheDocument","last","findByText","toHaveAttribute","seps","getAllByText","exact","length","toBe","WithClickableLast","SODA_BLUE","getByText","tagName","not","getAttribute","toContain","docs","source","originalSource"],"mappings":"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"}