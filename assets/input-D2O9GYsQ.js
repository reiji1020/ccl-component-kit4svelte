import{B as u,C as m,h as b,z as h,D as y,A as k,t as n,F as w,G as S}from"./runtime-gABUAsI6.js";function B(e,l,a=l){var c=new WeakSet;u(e,"input",async r=>{var f=r?e.defaultValue:e.value;if(f=t(e)?_(f):f,a(f),n!==null&&c.add(n),await m(),f!==(f=l())){var v=e.selectionStart,s=e.selectionEnd;e.value=f??"",s!==null&&(e.selectionStart=v,e.selectionEnd=Math.min(s,e.value.length))}}),b(l)==null&&e.value&&(a(t(e)?_(e.value):e.value),n!==null&&c.add(n)),h(()=>{var r=l();if(e===document.activeElement){var f=w??n;if(c.has(f))return}t(e)&&r===_(e.value)||e.type==="date"&&!r&&!e.value||r!==e.value&&(e.value=r??"")})}const d=new Set;function C(e,l,a,c,r=c){var f=a.getAttribute("type")==="checkbox",v=e;if(l!==null)for(var s of l)v=v[s]??(v[s]=[]);v.push(a),u(a,"change",()=>{var o=a.__value;f&&(o=A(v,o,a.checked)),r(o)},()=>r(f?[]:null)),h(()=>{var o=c();f?(o=o||[],a.checked=o.includes(a.__value)):a.checked=S(a.__value,o)}),y(()=>{var o=v.indexOf(a);o!==-1&&v.splice(o,1)}),d.has(v)||(d.add(v),k(()=>{v.sort((o,i)=>o.compareDocumentPosition(i)===4?-1:1),d.delete(v)})),k(()=>{})}function D(e,l,a=l){u(e,"change",c=>{var r=c?e.defaultChecked:e.checked;a(r)}),b(l)==null&&a(e.checked),h(()=>{var c=l();e.checked=!!c})}function A(e,l,a){for(var c=new Set,r=0;r<e.length;r+=1)e[r].checked&&c.add(e[r].__value);return a||c.delete(l),Array.from(c)}function t(e){var l=e.type;return l==="number"||l==="range"}function _(e){return e===""?null:+e}export{B as a,D as b,C as c};
//# sourceMappingURL=input-D2O9GYsQ.js.map
