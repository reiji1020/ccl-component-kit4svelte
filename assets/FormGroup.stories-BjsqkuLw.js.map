{"version":3,"file":"FormGroup.stories-BjsqkuLw.js","sources":["../../../src/lib/FormGroup.svelte","../../../src/stories/RegistrationFormWrapper.svelte","../../../src/stories/TermsOfServiceFormWrapper.svelte","../../../src/stories/FormGroup.stories.ts"],"sourcesContent":["<script lang=\"ts\">\n\t/**\n\t * フォーム要素のラベルテキスト\n\t * @default ''\n\t * @type string\n\t */\n\texport let label: string = '';\n\n\t/**\n\t * ユーザーへの補足説明やヒント\n\t * @default ''\n\t * @type string\n\t */\n\texport let helpText: string = '';\n\n\t/**\n\t * バリデーションエラーが発生した場合に表示するメッセージ\n\t * @default ''\n\t * @type string\n\t */\n\texport let errorMessage: string = '';\n\n\t/**\n\t * ラベルと入力要素を関連付けるためのID\n\t * @default ''\n\t * @type string\n\t */\n\texport let forId: string = '';\n</script>\n\n<div class=\"formGroupWrapper\">\n\t{#if label}\n\t\t<label for={forId} class=\"formLabel\">{label}</label>\n\t{/if}\n\n\t<div class=\"formControl\">\n\t\t<slot />\n\t</div>\n\n\t{#if helpText && !errorMessage}\n\t\t<p class=\"helpText\">{helpText}</p>\n\t{/if}\n\n\t{#if errorMessage}\n\t\t<p class=\"errorMessage\">{errorMessage}</p>\n\t{/if}\n</div>\n\n<style>\n\t.formGroupWrapper {\n\t\tmargin-bottom: 16px;\n\t}\n\n\t.formLabel {\n\t\tdisplay: block;\n\t\tfont-size: 14px;\n\t\tfont-weight: bold;\n\t\tmargin-bottom: 4px;\n\t\tcolor: #333;\n\t}\n\n\t.formControl {\n\t\t/* スロットコンテンツのスタイルを調整するために必要に応じて追加 */\n\t}\n\n\t.helpText {\n\t\tfont-size: 12px;\n\t\tcolor: #666;\n\t\tmargin-top: 4px;\n\t}\n\n\t.errorMessage {\n\t\tfont-size: 12px;\n\t\tcolor: #d9534f; /* Bootstrap danger color */\n\t\tmargin-top: 4px;\n\t}\n</style>\n","<script lang=\"ts\">\n\timport FormGroup from '../lib/FormGroup.svelte';\n\timport Input from '../lib/Input.svelte';\n\n\texport let username = '';\n\texport let email = '';\n\texport let password = '';\n</script>\n\n<div style=\"max-width: 400px; padding: 20px; border: 1px solid #eee; border-radius: 8px;\">\n\t<h2>新規登録</h2>\n\t<FormGroup label=\"ユーザー名\" helpText=\"半角英数字で入力してください\" forId=\"reg-username\">\n\t\t<Input type=\"text\" id=\"reg-username\" bind:value={username} />\n\t</FormGroup>\n\n\t<FormGroup\n\t\tlabel=\"メールアドレス\"\n\t\thelpText=\"有効なメールアドレスを入力してください\"\n\t\tforId=\"reg-email\"\n\t>\n\t\t<Input type=\"email\" id=\"reg-email\" bind:value={email} />\n\t</FormGroup>\n\n\t<FormGroup label=\"パスワード\" helpText=\"8文字以上の半角英数字\" forId=\"reg-password\">\n\t\t<Input type=\"password\" id=\"reg-password\" bind:value={password} />\n\t</FormGroup>\n\n\t<p>入力値:</p>\n\t<ul>\n\t\t<li>ユーザー名: {username}</li>\n\t\t<li>メールアドレス: {email}</li>\n\t\t<li>パスワード: {password}</li>\n\t</ul>\n</div>\n","<script lang=\"ts\">\n\timport FormGroup from '../lib/FormGroup.svelte';\n\timport Checkbox from '../lib/Checkbox.svelte';\n\timport Button from '../lib/Button.svelte';\n\timport { CCLVividColor } from '../lib/const/config';\n\n\tlet agreedToTerms = false;\n\n\tfunction handleSubmit() {\n\t\talert('フォームが送信されました！');\n\t}\n</script>\n\n<div style=\"max-width: 400px; padding: 20px; border: 1px solid #eee; border-radius: 8px;\">\n\t<h2>利用規約</h2>\n\t<p style=\"font-size: 14px; margin-bottom: 20px;\">\n\t\tここに利用規約の長いテキストが入ります。ユーザーはこの規約を読み、同意する必要があります。\n\t\tこれはダミーのテキストです。\n\t</p>\n\n\t<FormGroup forId=\"terms-agree\">\n\t\t<Checkbox label=\"利用規約に同意する\" id=\"terms-agree\" bind:checked={agreedToTerms} />\n\t</FormGroup>\n\n\t<Button\n\t\tlabel=\"登録する\"\n\t\tbgColor={CCLVividColor.SODA_BLUE}\n\t\tonClick={handleSubmit}\n\t\tdisabled={!agreedToTerms}\n\t/>\n</div>\n","import type { Meta, StoryObj } from '@storybook/svelte';\nimport FormGroup from '../lib/FormGroup.svelte';\nimport Input from '../lib/Input.svelte';\nimport Checkbox from '../lib/Checkbox.svelte';\nimport RegistrationFormWrapper from './RegistrationFormWrapper.svelte';\nimport TermsOfServiceFormWrapper from './TermsOfServiceFormWrapper.svelte';\nimport { expect, fn, userEvent, within } from '@storybook/test';\n\nconst meta = {\n\ttitle: 'Form/FormGroup',\n\tcomponent: FormGroup,\n\ttags: ['autodocs'],\n\targTypes: {\n\t\tlabel: { control: 'text' },\n\t\thelpText: { control: 'text' },\n\t\terrorMessage: { control: 'text' },\n\t\tforId: { control: 'text' },\n\t\t// Inputコンポーネントの値を制御するためのargType\n\t\tvalue: { control: 'text' },\n\t\t// Checkboxコンポーネントのチェック状態を制御するためのargType\n\t\tchecked: { control: 'boolean' }\n\t}\n} satisfies Meta<FormGroup>;\n\nexport default meta;\ntype Story = StoryObj<typeof meta>;\n\nexport const Default: Story = {\n\targs: {\n\t\tlabel: 'ユーザー名',\n\t\thelpText: '半角英数字で入力してください',\n\t\tforId: 'username-input',\n\t\tvalue: '' // 初期値を設定\n\t},\n\trender: (args) => ({\n\t\tComponent: FormGroup,\n\t\tprops: args,\n\t\ttemplate: `<FormGroup label=\"${args.label}\" helpText=\"${args.helpText}\" errorMessage=\"${args.errorMessage}\" forId=\"${args.forId}\">\n\t\t\t\t\t\t<Input type=\"text\" id=\"${args.forId}\" bind:value={${JSON.stringify(args.value)}} />\n\t\t\t\t\t</FormGroup>`\n\t})\n};\n\nexport const RegistrationFormExample: Story = {\n\trender: () => ({\n\t\tComponent: RegistrationFormWrapper,\n\t\tprops: {}\n\t}),\n\tplay: async ({ canvasElement, step }) => {\n\t\tconst canvas = within(canvasElement);\n\n\t\tconst usernameInput = canvas.getByLabelText('ユーザー名');\n\t\tconst emailInput = canvas.getByLabelText('メールアドレス');\n\t\tconst passwordInput = canvas.getByLabelText('パスワード');\n\n\t\tawait step('フォームの入力テスト', async () => {\n\t\t\tawait userEvent.type(usernameInput, 'uniqueUser123');\n\t\t\tawait userEvent.type(emailInput, 'unique.email@example.com');\n\t\t\tawait userEvent.type(passwordInput, 'StrongP@ssw0rd!');\n\n\t\t\tawait expect(usernameInput).toHaveValue('uniqueUser123');\n\t\t\tawait expect(emailInput).toHaveValue('unique.email@example.com');\n\t\t\tawait expect(passwordInput).toHaveValue('StrongP@ssw0rd!');\n\t\t});\n\t}\n};\n\nexport const TermsOfServiceFormExample: Story = {\n\trender: () => ({\n\t\tComponent: TermsOfServiceFormWrapper,\n\t\tprops: {}\n\t}),\n\tplay: async ({ canvasElement, step }) => {\n\t\tconst canvas = within(canvasElement);\n\n\t\tconst checkbox = canvas.getByRole('checkbox', { hidden: true, name: '利用規約に同意する' });\n\t\tconst button = await canvas.findByRole('button', { name: '登録する' });\n\n\t\tawait step('初期状態でボタンが非活性であること', async () => {\n\t\t\tawait expect(button).toBeDisabled();\n\t\t});\n\n\t\tawait step('チェックボックスをクリックするとボタンが活性化すること', async () => {\n\t\t\tawait userEvent.click(checkbox);\n\t\t\tawait expect(checkbox).toBeChecked();\n\t\t\tawait expect(button).toBeEnabled();\n\t\t});\n\n\t\tawait step('再度チェックボックスをクリックするとボタンが非活性に戻ること', async () => {\n\t\t\tawait userEvent.click(checkbox);\n\t\t\tawait expect(checkbox).not.toBeChecked();\n\t\t\tawait expect(button).toBeDisabled();\n\t\t});\n\t}\n};\n"],"names":["ctx","cov_1xn69ljhms","s","insert_hydration","target","p","anchor","b","cov_20khbsbtot","append_hydration","ul","li1","li2","handleSubmit","div","cov_2kn2kofb9h","meta","title","component","FormGroup","tags","argTypes","label","control","helpText","errorMessage","forId","value","checked","Default","args","render","Component","props","template","JSON","stringify","RegistrationFormExample","RegistrationFormWrapper","play","canvasElement","step","canvas","within","usernameInput","getByLabelText","emailInput","passwordInput","userEvent","type","expect","toHaveValue","TermsOfServiceFormExample","TermsOfServiceFormWrapper","checkbox","getByRole","hidden","name","button","findByRole","toBeDisabled","click","toBeChecked","toBeEnabled","not","parameters","docs","source","originalSource"],"mappings":"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"}