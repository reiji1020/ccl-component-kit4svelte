{"version":3,"file":"ChangeHistory.stories-C0hK-FpY.js","sources":["../../../src/lib/ChangeHistory.svelte","../../../src/stories/ChangeHistory.stories.ts"],"sourcesContent":["<script lang=\"ts\">\n\timport './const/variables.css';\n\timport { CCLVividColor, CCLPastelColor } from './const/config';\n\n\t/**\n\t * @typedef {object} HistoryItem\n\t * @property {string} date - 更新日 (例: \"2025/07\")\n\t * @property {string} title - 更新内容のタイトル\n\t * @property {string} [tag] - カテゴリやバージョンなどのタグ (例: \"イベント\")。省略可能\n\t * @property {string} [color] - アイテムのテーマカラー。`CCLVividColor`の値を指定します。省略可能\n\t * @property {string} [version] - バージョン番号 (例: \"v1.1.0\")。省略可能\n\t * @property {string[]} [details] - 更新内容の詳細なリスト。省略可能\n\t */\n\texport interface HistoryItem {\n\t\tdate: string;\n\t\ttitle: string;\n\t\ttag?: string;\n\t\tcolor?: string;\n\t\tversion?: string;\n\t\tdetails?: string[];\n\t}\n\n\t/**\n\t * 表示する更新履歴の配列\n\t * @type {HistoryItem[]}\n\t */\n\texport let historyItems: HistoryItem[] = [];\n\n\t/**\n\t * コンポーネントの高さ。'400px'や'50vh'のようにCSSの値を指定します。\n\t * @type {string | undefined}\n\t */\n\texport let height: string | undefined = undefined;\n\n\t/**\n\t * アイテムに色が指定されていない場合のデフォルトカラー。`CCLVividColor`の値を指定します。\n\t * @type {string}\n\t */\n\texport let defaultColor: string = CCLVividColor.SODA_BLUE;\n\n\t// VividカラーをPastelカラー（タグ背景色）にマッピングします\n\tconst vividToPastelMap: Record<string, string> = {\n\t\t[CCLVividColor.STRAWBERRY_PINK]: CCLPastelColor.PEACH_PINK,\n\t\t[CCLVividColor.PINEAPPLE_YELLOW]: CCLPastelColor.LEMON_YELLOW,\n\t\t[CCLVividColor.SODA_BLUE]: CCLPastelColor.SUGAR_BLUE,\n\t\t[CCLVividColor.MELON_GREEN]: CCLPastelColor.MATCHA_GREEN,\n\t\t[CCLVividColor.GRAPE_PURPLE]: CCLPastelColor.AKEBI_PURPLE,\n\t\t[CCLVividColor.WRAP_GREY]: CCLPastelColor.CLOUD_GREY\n\t};\n\n\t// defaultColorプロパティの変更に追従して、対応するパステルカラーを算出します\n\t$: defaultPastelColor = vividToPastelMap[defaultColor] || CCLPastelColor.SUGAR_BLUE;\n</script>\n\n<div class=\"change-history-container\" style={height ? `height: ${height};` : ''}>\n\t<ul class=\"timeline\">\n\t\t{#each historyItems as item (item.date + item.title)}\n\t\t\t<li\n\t\t\t\tclass=\"timeline-item\"\n\t\t\t\tstyle:--marker-color=\"var({item.color || defaultColor})\"\n\t\t\t\tstyle:--tag-color=\"var({item.color || defaultColor})\"\n\t\t\t\tstyle:--tag-bg-color=\"var({vividToPastelMap[item.color || defaultColor] || defaultPastelColor})\"\n\t\t\t>\n\t\t\t\t<div class=\"timeline-marker\"></div>\n\t\t\t\t<div class=\"timeline-content\">\n\t\t\t\t\t<div class=\"header\">\n\t\t\t\t\t\t<time class=\"date\" datetime={item.date}>{item.date}</time>\n\t\t\t\t\t\t{#if item.tag}\n\t\t\t\t\t\t\t<span class=\"tag\">{item.tag}</span>\n\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t{#if item.version}\n\t\t\t\t\t\t\t<span class=\"version\">{item.version}</span>\n\t\t\t\t\t\t{/if}\n\t\t\t\t\t</div>\n\t\t\t\t\t<h3 class=\"title\">{item.title}</h3>\n\t\t\t\t\t{#if item.details && item.details.length > 0}\n\t\t\t\t\t\t<ul class=\"details\">\n\t\t\t\t\t\t\t{#each item.details as detail}\n\t\t\t\t\t\t\t\t<li>{detail}</li>\n\t\t\t\t\t\t\t{/each}\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t{/if}\n\t\t\t\t</div>\n\t\t\t</li>\n\t\t{/each}\n\t</ul>\n</div>\n\n<style>\n\t.change-history-container {\n\t\tfont-family: sans-serif;\n\t\tmax-width: 800px;\n\t\tmargin: 0 auto;\n\t\tpadding: 20px;\n\t\toverflow-y: auto;\n\t}\n\n\t.timeline {\n\t\tlist-style-type: none;\n\t\tpadding-left: 20px;\n\t\tposition: relative;\n\t}\n\n\t/* タイムラインの縦線 */\n\t.timeline::before {\n\t\tcontent: '';\n\t\tposition: absolute;\n\t\ttop: 5px;\n\t\tleft: 5px;\n\t\theight: calc(100% - 5px);\n\t\twidth: 2px;\n\t\tbackground-color: #dee2e6;\n\t}\n\n\t.timeline-item {\n\t\tposition: relative;\n\t\tmargin-bottom: 30px;\n\t\tpadding-left: 35px;\n\t}\n\n\t.timeline-item:last-child {\n\t\tmargin-bottom: 0;\n\t}\n\n\t.timeline-marker {\n\t\tposition: absolute;\n\t\ttop: 5px;\n\t\tleft: -2px;\n\t\twidth: 16px;\n\t\theight: 16px;\n\t\tborder-radius: 50%;\n\t\tbackground-color: var(--marker-color);\n\t\tborder: 3px solid #fff;\n\t\tz-index: 1;\n\t}\n\n\t.timeline-content {\n\t\tbackground-color: #ffffff;\n\t\tpadding: 15px 20px;\n\t\tborder-radius: 6px;\n\t\tborder: 1px solid #dee2e6;\n\t}\n\n\t.header {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tgap: 12px;\n\t\tmargin-bottom: 8px;\n\t}\n\n\t.date {\n\t\tfont-weight: bold;\n\t\tcolor: #343a40;\n\t}\n\n\t.tag {\n\t\tbackground-color: var(--tag-bg-color);\n\t\tcolor: var(--tag-color);\n\t\tpadding: 3px 10px;\n\t\tborder-radius: 12px;\n\t\tfont-size: 0.85em;\n\t\tfont-weight: 600;\n\t}\n\n\t.version {\n\t\tbackground-color: #f1f3f5; /* ニュートラルなグレー */\n\t\tcolor: #495057;\n\t\tpadding: 3px 10px;\n\t\tborder-radius: 12px;\n\t\tfont-size: 0.85em;\n\t\tfont-weight: 600;\n\t}\n\n\t.title {\n\t\tmargin: 0 0 12px 0;\n\t\tfont-size: 1.15em;\n\t\tfont-weight: 600;\n\t\tcolor: #212529;\n\t}\n\n\t.details {\n\t\tlist-style-type: disc;\n\t\tpadding-left: 20px;\n\t\tmargin: 0;\n\t\tcolor: #495057;\n\t\tline-height: 1.6;\n\t}\n\n\t.details li {\n\t\tmargin-bottom: 5px;\n\t}\n\t.details li:last-child {\n\t\tmargin-bottom: 0;\n\t}\n</style>","import type { Meta, StoryObj } from '@storybook/svelte';\nimport ChangeHistory from '$lib/ChangeHistory.svelte';\nimport type { HistoryItem } from '$lib/ChangeHistory.svelte';\nimport { CCLVividColor } from '$lib/const/config';\n\nconst meta: Meta<ChangeHistory> = {\n\ttitle: 'CommonComponents/ChangeHistory',\n\tcomponent: ChangeHistory,\n\ttags: ['autodocs'],\n\targTypes: {\n\t\thistoryItems: {\n\t\t\tcontrol: 'object',\n\t\t\tdescription: '表示する更新履歴の配列'\n\t\t},\n\t\theight: {\n\t\t\tcontrol: 'text',\n\t\t\tdescription: 'コンポーネントの高さ。CSSの値を指定します (例: \"400px\")。'\n\t\t},\n\t\tdefaultColor: {\n\t\t\tcontrol: { type: 'select' },\n\t\t\toptions: Object.values(CCLVividColor),\n\t\t\tdescription:\n\t\t\t\t'アイテムに色が指定されていない場合のデフォルトカラー。`CCLVividColor`の値を指定します。'\n\t\t}\n\t}\n};\n\nexport default meta;\ntype Story = StoryObj<ChangeHistory>;\n\nconst mockData: HistoryItem[] = [\n\t{\n\t\tdate: '2025/07/20',\n\t\ttitle: 'メジャーアップデートと新機能の追加',\n\t\tcolor: CCLVividColor.STRAWBERRY_PINK,\n\t\ttag: '機能追加',\n\t\tversion: 'v2.0.0',\n\t\tdetails: [\n\t\t\t'ccl-component-kit4svelteをv2.0.0に更新しました。',\n\t\t\t'新コンポーネント「Dashboard」を追加しました。',\n\t\t\t'パフォーマンスを改善し、ページの読み込み速度が向上しました。'\n\t\t]\n\t},\n\t{\n\t\tdate: '2025/07/01',\n\t\ttitle: 'CROSSをリリースしました',\n\t\ttag: '活動記録',\n\t\tcolor: CCLVividColor.MELON_GREEN\n\t},\n\t{\n\t\tdate: '2025/05/15',\n\t\ttitle: '技術書典18にサークル参加しました',\n\t\ttag: 'イベント' // 色は未指定（デフォルトカラーが適用される）\n\t},\n\t{\n\t\tdate: '2025/04/10',\n\t\ttitle: '軽微なバグ修正',\n\t\tversion: 'v1.5.2'\n\t\t// 色もタグも未指定\n\t}\n];\n\nconst longMockData: HistoryItem[] = [\n\t...mockData,\n\t{\n\t\tdate: '2025/03/15',\n\t\ttitle: 'UIコンポーネントのドキュメントを更新',\n\t\ttag: 'ドキュメント',\n\t\tcolor: CCLVividColor.GRAPE_PURPLE\n\t},\n\t{\n\t\tdate: '2025/02/01',\n\t\ttitle: 'パフォーマンスチューニングを実施',\n\t\tversion: 'v1.5.1'\n\t},\n\t{\n\t\tdate: '2025/01/20',\n\t\ttitle: 'Selectコンポーネントの不具合を修正',\n\t\ttag: 'バグ修正',\n\t\tcolor: CCLVividColor.PINEAPPLE_YELLOW,\n\t\tversion: 'v1.5.0'\n\t},\n\t{\n\t\tdate: '2025/01/05',\n\t\ttitle: 'Checkboxコンポーネントを追加',\n\t\ttag: '機能追加',\n\t\tcolor: CCLVividColor.STRAWBERRY_PINK\n\t}\n];\n\n/**\n * アイテムごとに異なる色を指定した場合の表示です。\n * 色が指定されていないアイテムには、`defaultColor`プロパティが適用されます。\n */\nexport const Default: Story = {\n\tname: 'Default',\n\targs: {\n\t\thistoryItems: mockData,\n\t\tdefaultColor: CCLVividColor.SODA_BLUE\n\t}\n};\n\n/**\n * `defaultColor`プロパティを上書きした場合の表示です。\n * 色が指定されていないアイテムに、指定したデフォルトカラー（この場合は黄色）が適用されます。\n */\nexport const CustomDefaultColor: Story = {\n\tname: 'Custom Default Color',\n\targs: {\n\t\thistoryItems: mockData,\n\t\tdefaultColor: CCLVividColor.PINEAPPLE_YELLOW\n\t}\n};\n\n/**\n * 更新履歴が1件だけの場合の表示です。\n */\nexport const SingleItem: Story = {\n\tname: 'Single Item',\n\targs: {\n\t\thistoryItems: [mockData[0]]\n\t}\n};\n\n/**\n * `historyItems` 配列が空の場合の表示です。\n */\nexport const Empty: Story = {\n\tname: 'Empty',\n\targs: {\n\t\thistoryItems: []\n\t}\n};\n\n/**\n * タグやバージョン、詳細リストがない、最小限のデータでの表示です。\n */\nexport const Minimal: Story = {\n\tname: 'Minimal',\n\targs: {\n\t\thistoryItems: [\n\t\t\t{\n\t\t\t\tdate: '2025/01/01',\n\t\t\t\ttitle: 'プロジェクトを開始しました。'\n\t\t\t},\n\t\t\t{\n\t\t\t\tdate: '2024/12/25',\n\t\t\t\ttitle: 'プレリリース版を公開しました。'\n\t\t\t}\n\t\t]\n\t}\n};\n\n/**\n * 高さを指定してコンポーネントをスクロール可能にする場合の表示です。\n */\nexport const WithLimitedHeight: Story = {\n\tname: 'With Limited Height',\n\targs: {\n\t\thistoryItems: longMockData,\n\t\theight: '400px',\n\t\tdefaultColor: CCLVividColor.SODA_BLUE\n\t}\n};\n"],"names":["create_if_block_2","ctx","cov_1zfmyqypgi","span","t_value","s","tag","insert_hydration","target","anchor","b","dirty","set_data","t","append_hydration","historyItems","$$props","CCLVividColor","SODA_BLUE","CCLPastelColor","SUGAR_BLUE","meta","title","component","ChangeHistory","tags","argTypes","control","description","height","defaultColor","type","options","Object","values","mockData","date","color","STRAWBERRY_PINK","version","details","MELON_GREEN","longMockData","GRAPE_PURPLE","PINEAPPLE_YELLOW","Default","name","args","CustomDefaultColor","SingleItem","Empty","Minimal","WithLimitedHeight","parameters","docs","source","originalSource","story"],"mappings":"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"}