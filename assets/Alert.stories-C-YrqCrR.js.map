{"version":3,"file":"Alert.stories-C-YrqCrR.js","sources":["../../../src/stories/Alert.stories.ts"],"sourcesContent":["import type { Meta, StoryObj } from '@storybook/svelte';\nimport Alert from '../lib/Alert.svelte';\nimport { expect, fn, userEvent, within } from '@storybook/test';\n\nconst meta = {\n  title: 'CommonComponents/Alert',\n  component: Alert,\n  tags: ['autodocs'],\n  argTypes: {\n    message: {\n      control: { type: 'text' }\n    },\n    type: {\n      control: { type: 'select' },\n      options: ['success', 'error', 'warning', 'info']\n    },\n    dismissible: {\n      control: { type: 'boolean' }\n    },\n    outline: {\n      control: { type: 'boolean' }\n    },\n    onDismiss: { action: 'dismiss' }\n  }\n} satisfies Meta<Alert>;\n\nexport default meta;\ntype Story = StoryObj<typeof meta>;\n\nexport const Success: Story = {\n  args: {\n    message: '操作が正常に完了しました。',\n    type: 'success',\n    dismissible: true\n  },\n  play: async ({ canvasElement, args, step }) => {\n    const canvas = within(canvasElement);\n    const alert = canvas.getByText(args.message);\n    await expect(alert).toBeInTheDocument();\n\n    if (args.dismissible) {\n      await step('閉じるボタンが表示されていること', async () => {\n        const dismissButton = canvas.getByLabelText('Dismiss alert');\n        await expect(dismissButton).toBeInTheDocument();\n      });\n\n      await step('閉じるボタンをクリックするとonDismissイベントが発火すること', async () => {\n        const dismissButton = canvas.getByLabelText('Dismiss alert');\n        await userEvent.click(dismissButton);\n        await expect(args.onDismiss).toHaveBeenCalled();\n      });\n    }\n  }\n};\n\nexport const Error: Story = {\n  args: {\n    message: 'エラーが発生しました。もう一度お試しください。',\n    type: 'error',\n    dismissible: true\n  }\n};\n\nexport const Warning: Story = {\n  args: {\n    message: '入力内容を確認してください。',\n    type: 'warning',\n    dismissible: true\n  }\n};\n\nexport const Info: Story = {\n  args: {\n    message: '新しい情報があります。',\n    type: 'info',\n    dismissible: false\n  }\n};\n\nexport const NotDismissible: Story = {\n  args: {\n    message: 'このアラートは閉じられません。',\n    type: 'info',\n    dismissible: false\n  },\n  play: async ({ canvasElement, args, step }) => {\n    const canvas = within(canvasElement);\n    const alert = canvas.getByText(args.message);\n    await expect(alert).toBeInTheDocument();\n\n    await step('閉じるボタンが表示されていないこと', async () => {\n      const dismissButton = canvas.queryByLabelText('Dismiss alert');\n      await expect(dismissButton).not.toBeInTheDocument();\n    });\n  }\n};\n\nexport const OutlineSuccess: Story = {\n  args: {\n    message: '操作が正常に完了しました。',\n    type: 'success',\n    dismissible: true,\n    outline: true\n  }\n};\n\nexport const OutlineError: Story = {\n  args: {\n    message: 'エラーが発生しました。もう一度お試しください。',\n    type: 'error',\n    dismissible: true,\n    outline: true\n  }\n};\n\nexport const OutlineWarning: Story = {\n  args: {\n    message: '入力内容を確認してください。',\n    type: 'warning',\n    dismissible: true,\n    outline: true\n  }\n};\n\nexport const OutlineInfo: Story = {\n  args: {\n    message: '新しい情報があります。',\n    type: 'info',\n    dismissible: false,\n    outline: true\n  }\n};\n"],"names":["meta","title","component","Alert","tags","argTypes","message","control","type","options","dismissible","outline","onDismiss","action","Success","args","play","canvasElement","step","canvas","within","alert","getByText","expect","toBeInTheDocument","dismissButton","getByLabelText","userEvent","click","toHaveBeenCalled","Error","Warning","Info","NotDismissible","queryByLabelText","not","OutlineSuccess","OutlineError","OutlineWarning","OutlineInfo","parameters","docs","source","originalSource"],"mappings":"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"}