{"version":3,"file":"RadioButton.stories-CJwTJjX5.js","sources":["../../../src/lib/RadioButton.svelte","../../../src/stories/RadioButton.stories.ts"],"sourcesContent":["<script lang=\"ts\">\n\timport './const/variables.css';\n\timport { CCLVividColor } from './const/config';\n\n\t/**\n\t * ラジオボタンの選択値\n\t * @type {any}\n\t */\n\texport let value: any;\n\n\t/**\n\t * どのラジオボタンが選択されているかを保持する変数\n\t * @type {any}\n\t */\n\texport let group: any;\n\n\t/**\n\t * ラジオボタンのラベル\n\t * @default ''\n\t * @type string\n\t */\n\texport let label: string = '';\n\n\t/**\n\t * ラジオボタンの色\n\t * @default CCLVividColor.SODA_BLUE\n\t * @type string\n\t */\n\texport let color: string = CCLVividColor.SODA_BLUE;\n\n\t/**\n\t * 非活性状態\n\t * @default false\n\t * @type boolean\n\t */\n\texport let disabled: boolean = false;\n\n\tlet circleColor: 'white' = 'white';\n</script>\n\n<label class=\"radioWrapper\" class:disabled>\n\t<input type=\"radio\" bind:group {value} {disabled} aria-label={label} />\n\t<span class=\"customRadio\" style=\"--bg-color: var({color});\">\n\t\t{#if group === value}\n\t\t\t<span class=\"innerCircle\" style=\"--circle-color: {circleColor};\" />\n\t\t{/if}\n\t</span>\n\t{#if label}\n\t\t<span class=\"label\">{label}</span>\n\t{/if}\n</label>\n\n<style>\n\t.radioWrapper {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tcursor: pointer;\n\t\tmargin-bottom: 8px;\n\t\tposition: relative;\n\t}\n\t.radioWrapper.disabled {\n\t\tcursor: not-allowed;\n\t\topacity: 0.6;\n\t}\n\t.radioWrapper input[type='radio'] {\n\t\tborder: 0;\n\t\tclip: rect(0 0 0 0);\n\t\tclip-path: inset(50%);\n\t\theight: 1px;\n\t\tmargin: -1px;\n\t\toverflow: hidden;\n\t\tpadding: 0;\n\t\tposition: absolute;\n\t\twhite-space: nowrap;\n\t\twidth: 1px;\n\t}\n\t.customRadio {\n\t\twidth: 20px;\n\t\theight: 20px;\n\t\tborder: 2px solid var(--bg-color);\n\t\tborder-radius: 50%;\n\t\tdisplay: flex;\n\t\tjustify-content: center;\n\t\talign-items: center;\n\t\ttransition: background-color 0.2s;\n\t}\n\t.radioWrapper input[type='radio']:checked + .customRadio {\n\t\tbackground-color: var(--bg-color);\n\t}\n\t.innerCircle {\n\t\twidth: 10px;\n\t\theight: 10px;\n\t\tbackground-color: var(--circle-color);\n\t\tborder-radius: 50%;\n\t}\n\t.label {\n\t\tmargin-left: 8px;\n\t\tfont-size: 16px;\n\t}\n</style>\n","import type { Meta, StoryObj } from '@storybook/svelte';\nimport RadioButton from '../lib/RadioButton.svelte';\nimport { CCLVividColor, CCLPastelColor } from '../lib/const/config';\nimport { expect, fn, userEvent, within } from '@storybook/test';\nimport MultipleRadioButtonsWrapper from './MultipleRadioButtonsWrapper.svelte';\nimport AllColorsRadioButtonWrapper from './AllColors/AllColorsRadioButtonWrapper.svelte';\n\nconst meta = {\n\ttitle: 'Form/RadioButton',\n\tcomponent: RadioButton,\n\ttags: ['autodocs'],\n\targTypes: {\n\t\tlabel: {\n\t\t\tcontrol: { type: 'text' }\n\t\t},\n\t\tcolor: {\n\t\t\tcontrol: { type: 'select' },\n\t\t\toptions: Object.values(CCLVividColor)\n\t\t},\n\t\tdisabled: {\n\t\t\tcontrol: { type: 'boolean' }\n\t\t}\n\t}\n} satisfies Meta<RadioButton>;\n\nexport default meta;\ntype Story = StoryObj<typeof meta>;\n\nconst createStory = (initialArgs: Story['args']): Story => ({\n\targs: {\n\t\t...initialArgs\n\t},\n\tplay: async ({ args, canvasElement, step }) => {\n\t\tconst canvas = within(canvasElement);\n\t\tconst radio = canvas.getByRole('radio', { hidden: true });\n\n\t\tawait step('初期状態が正しいこと', async () => {\n\t\t\tif (args?.group === args?.value) {\n\t\t\t\tawait expect(radio).toBeChecked();\n\t\t\t} else {\n\t\t\t\tawait expect(radio).not.toBeChecked();\n\t\t\t}\n\t\t});\n\n\t\tawait step('クリック操作が正しく行われること', async () => {\n\t\t\tawait userEvent.click(radio);\n\t\t\tif (args?.disabled) {\n\t\t\t\tawait expect(radio).toBeChecked(); // Disabled radio should not change state\n\t\t\t} else {\n\t\t\t\tawait expect(radio).toBeChecked();\n\t\t\t}\n\t\t});\n\t}\n});\n\nexport const Default = createStory({\n\tlabel: 'Option 1',\n\tvalue: 'option1',\n\tgroup: 'option1'\n});\n\nexport const Disabled = createStory({\n\tlabel: 'Disabled',\n\tvalue: 'disabled',\n\tgroup: 'none',\n\tdisabled: true\n});\n\nexport const DisabledChecked = createStory({\n\tlabel: 'Disabled Checked',\n\tvalue: 'disabledChecked',\n\tgroup: 'disabledChecked',\n\tdisabled: true\n});\n\nexport const MultipleRadioButtons: Story = {\n\trender: () => ({\n\t\tComponent: MultipleRadioButtonsWrapper,\n\t\tprops: {\n\t\t\tselectedValue: 'option1'\n\t\t}\n\t}),\n\tplay: async ({ canvasElement, step }) => {\n\t\tconst canvas = within(canvasElement);\n\n\t\tconst radio1 = canvas.getByRole('radio', { name: 'Option 1' });\n\t\tconst radio2 = canvas.getByRole('radio', { name: 'Option 2' });\n\t\tconst radio3 = canvas.getByRole('radio', { name: 'Option 3' });\n\n\t\tawait step('初期状態でOption 1が選択されていること', async () => {\n\t\t\tawait expect(radio1).toBeChecked();\n\t\t\tawait expect(radio2).not.toBeChecked();\n\t\t\tawait expect(radio3).not.toBeChecked();\n\t\t});\n\n\t\tawait step('Option 2をクリックし、選択が切り替わること', async () => {\n\t\t\tawait userEvent.click(radio2);\n\t\t\tawait expect(radio1).not.toBeChecked();\n\t\t\tawait expect(radio2).toBeChecked();\n\t\t\tawait expect(radio3).not.toBeChecked();\n\t\t});\n\n\t\tawait step('Option 3をクリックし、選択が切り替わること', async () => {\n\t\t\tawait userEvent.click(radio3);\n\t\t\tawait expect(radio1).not.toBeChecked();\n\t\t\tawait expect(radio2).not.toBeChecked();\n\t\t\tawait expect(radio3).toBeChecked();\n\t\t});\n\n\t\tawait step('再度Option 1をクリックし、選択が切り替わること', async () => {\n\t\t\tawait userEvent.click(radio1);\n\t\t\tawait expect(radio1).toBeChecked();\n\t\t\tawait expect(radio2).not.toBeChecked();\n\t\t\tawait expect(radio3).not.toBeChecked();\n\t\t});\n\t}\n};\n\nexport const AllColors: Story = {\n\trender: () => ({ Component: AllColorsRadioButtonWrapper }),\n\targs: {},\n\tparameters: {\n\t\tdocs: {\n\t\t\tsource: {\n\t\t\t\tcode: null\n\t\t\t}\n\t\t}\n\t}\n};\n"],"names":["circleColor","target","span","anchor","cov_nv5hdhwgv","b","ctx","create_if_block","s","meta","title","component","RadioButton","tags","argTypes","label","control","type","color","options","Object","values","CCLVividColor","disabled","createStory","initialArgs","args","play","canvasElement","step","radio","within","getByRole","hidden","group","value","expect","toBeChecked","not","userEvent","click","Default","Disabled","DisabledChecked","MultipleRadioButtons","render","Component","MultipleRadioButtonsWrapper","props","selectedValue","canvas","radio1","name","radio2","radio3","AllColors","AllColorsRadioButtonWrapper","parameters","docs","source","code","originalSource"],"mappings":"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"}