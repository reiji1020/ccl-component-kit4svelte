{"version":3,"file":"FormGroup.stories-CbleSqM4.js","sources":["../../../src/stories/RegistrationFormWrapper.svelte","../../../src/stories/TermsOfServiceFormWrapper.svelte","../../../src/stories/FormGroup.stories.ts"],"sourcesContent":["<script lang=\"ts\">\n  import FormGroup from '../lib/FormGroup.svelte';\n  import Input from '../lib/Input.svelte';\n\n  export let username = '';\n  export let email = '';\n  export let password = '';\n</script>\n\n<div style=\"max-width: 400px; padding: 20px; border: 1px solid #eee; border-radius: 8px;\">\n  <h2>新規登録</h2>\n  <FormGroup label=\"ユーザー名\" helpText=\"半角英数字で入力してください\" forId=\"reg-username\">\n    <Input type=\"text\" id=\"reg-username\" bind:value={username} />\n  </FormGroup>\n\n  <FormGroup\n    label=\"メールアドレス\"\n    helpText=\"有効なメールアドレスを入力してください\"\n    forId=\"reg-email\"\n  >\n    <Input type=\"email\" id=\"reg-email\" bind:value={email} />\n  </FormGroup>\n\n  <FormGroup label=\"パスワード\" helpText=\"8文字以上の半角英数字\" forId=\"reg-password\">\n    <Input type=\"password\" id=\"reg-password\" bind:value={password} />\n  </FormGroup>\n\n  <p>入力値:</p>\n  <ul>\n    <li>ユーザー名: {username}</li>\n    <li>メールアドレス: {email}</li>\n    <li>パスワード: {password}</li>\n  </ul>\n</div>\n","<script lang=\"ts\">\n  import FormGroup from '../lib/FormGroup.svelte';\n  import Checkbox from '../lib/Checkbox.svelte';\n  import Button from '../lib/Button.svelte';\n  import { CCLVividColor } from '../lib/const/config';\n\n  let agreedToTerms = false;\n\n  function handleSubmit() {\n    alert('フォームが送信されました！');\n  }\n</script>\n\n<div style=\"max-width: 400px; padding: 20px; border: 1px solid #eee; border-radius: 8px;\">\n  <h2>利用規約</h2>\n  <p style=\"font-size: 14px; margin-bottom: 20px;\">\n    ここに利用規約の長いテキストが入ります。ユーザーはこの規約を読み、同意する必要があります。\n    これはダミーのテキストです。\n  </p>\n\n  <FormGroup forId=\"terms-agree\">\n    <Checkbox label=\"利用規約に同意する\" id=\"terms-agree\" bind:checked={agreedToTerms} />\n  </FormGroup>\n\n  <Button\n    label=\"登録する\"\n    bgColor={CCLVividColor.SODA_BLUE}\n    onClick={handleSubmit}\n    disabled={!agreedToTerms}\n  />\n</div>\n","import type { Meta, StoryObj } from '@storybook/svelte';\nimport FormGroup from '../lib/FormGroup.svelte';\nimport Input from '../lib/Input.svelte';\nimport Checkbox from '../lib/Checkbox.svelte';\nimport RegistrationFormWrapper from './RegistrationFormWrapper.svelte';\nimport TermsOfServiceFormWrapper from './TermsOfServiceFormWrapper.svelte';\nimport { expect, fn, userEvent, within } from '@storybook/test';\n\nconst meta = {\n  title: 'Form/FormGroup',\n  component: FormGroup,\n  tags: ['autodocs'],\n  argTypes: {\n    label: { control: 'text' },\n    helpText: { control: 'text' },\n    errorMessage: { control: 'text' },\n    forId: { control: 'text' },\n    // Inputコンポーネントの値を制御するためのargType\n    value: { control: 'text' },\n    // Checkboxコンポーネントのチェック状態を制御するためのargType\n    checked: { control: 'boolean' }\n  }\n} satisfies Meta<FormGroup>;\n\nexport default meta;\ntype Story = StoryObj<typeof meta>;\n\nexport const Default: Story = {\n  args: {\n    label: 'ユーザー名',\n    helpText: '半角英数字で入力してください',\n    forId: 'username-input',\n    value: '' // 初期値を設定\n  },\n  render: (args) => ({\n    Component: FormGroup,\n    props: args,\n    template: `<FormGroup label=\"${args.label}\" helpText=\"${args.helpText}\" errorMessage=\"${args.errorMessage}\" forId=\"${args.forId}\">\n\t\t\t\t\t\t<Input type=\"text\" id=\"${args.forId}\" bind:value={${JSON.stringify(args.value)}} />\n\t\t\t\t\t</FormGroup>`\n  })\n};\n\nexport const RegistrationFormExample: Story = {\n  render: () => ({\n    Component: RegistrationFormWrapper,\n    props: {}\n  }),\n  play: async ({ canvasElement, step }) => {\n    const canvas = within(canvasElement);\n\n    const usernameInput = canvas.getByLabelText('ユーザー名');\n    const emailInput = canvas.getByLabelText('メールアドレス');\n    const passwordInput = canvas.getByLabelText('パスワード');\n\n    await step('フォームの入力テスト', async () => {\n      await userEvent.type(usernameInput, 'uniqueUser123');\n      await userEvent.type(emailInput, 'unique.email@example.com');\n      await userEvent.type(passwordInput, 'StrongP@ssw0rd!');\n\n      await expect(usernameInput).toHaveValue('uniqueUser123');\n      await expect(emailInput).toHaveValue('unique.email@example.com');\n      await expect(passwordInput).toHaveValue('StrongP@ssw0rd!');\n    });\n  }\n};\n\nexport const TermsOfServiceFormExample: Story = {\n  render: () => ({\n    Component: TermsOfServiceFormWrapper,\n    props: {}\n  }),\n  play: async ({ canvasElement, step }) => {\n    const canvas = within(canvasElement);\n\n    const checkbox = canvas.getByRole('checkbox', { hidden: true, name: '利用規約に同意する' });\n    const button = await canvas.findByRole('button', { name: '登録する' });\n\n    await step('初期状態でボタンが非活性であること', async () => {\n      await expect(button).toBeDisabled();\n    });\n\n    await step('チェックボックスをクリックするとボタンが活性化すること', async () => {\n      await userEvent.click(checkbox);\n      await expect(checkbox).toBeChecked();\n      await expect(button).toBeEnabled();\n    });\n\n    await step('再度チェックボックスをクリックするとボタンが非活性に戻ること', async () => {\n      await userEvent.click(checkbox);\n      await expect(checkbox).not.toBeChecked();\n      await expect(button).toBeDisabled();\n    });\n  }\n};\n"],"names":["username","cov_20khbsbtot","s","$","$$props","b","email","agreedToTerms","cov_2kn2kofb9h","meta","title","component","FormGroup","tags","argTypes","label","control","helpText","errorMessage","forId","value","checked","Default","args","render","Component","props","template","JSON","stringify","RegistrationFormExample","RegistrationFormWrapper","play","canvasElement","step","canvas","within","usernameInput","getByLabelText","emailInput","passwordInput","userEvent","type","expect","toHaveValue","TermsOfServiceFormExample","TermsOfServiceFormWrapper","checkbox","getByRole","hidden","name","button","findByRole","toBeDisabled","click","toBeChecked","toBeEnabled","not","parameters","docs","source","originalSource"],"mappings":"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"}