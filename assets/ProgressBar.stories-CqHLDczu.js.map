{"version":3,"file":"ProgressBar.stories-CqHLDczu.js","sources":["../../../src/stories/AllColors/AllColorsProgressBarWrapper.svelte","../../../src/stories/ProgressBar.stories.ts"],"sourcesContent":["<script lang=\"ts\">\n  import ProgressBar from '../../lib/ProgressBar.svelte';\n  import { CCLVividColor, CCLPastelColor } from '../../lib/const/config';\n\n  const vividColors = [\n    { name: 'STRAWBERRY_PINK', bar: CCLVividColor.STRAWBERRY_PINK, bg: CCLPastelColor.PEACH_PINK },\n    {\n      name: 'PINEAPPLE_YELLOW',\n      bar: CCLVividColor.PINEAPPLE_YELLOW,\n      bg: CCLPastelColor.LEMON_YELLOW\n    },\n    { name: 'SODA_BLUE', bar: CCLVividColor.SODA_BLUE, bg: CCLPastelColor.SUGAR_BLUE },\n    { name: 'MELON_GREEN', bar: CCLVividColor.MELON_GREEN, bg: CCLPastelColor.MATCHA_GREEN },\n    { name: 'GRAPE_PURPLE', bar: CCLVividColor.GRAPE_PURPLE, bg: CCLPastelColor.AKEBI_PURPLE },\n    { name: 'WRAP_GREY', bar: CCLVividColor.WRAP_GREY, bg: CCLPastelColor.CLOUD_GREY }\n  ];\n\n  const pastelColors = [\n    { name: 'PEACH_PINK', bar: CCLPastelColor.PEACH_PINK, bg: CCLVividColor.STRAWBERRY_PINK },\n    { name: 'LEMON_YELLOW', bar: CCLPastelColor.LEMON_YELLOW, bg: CCLVividColor.PINEAPPLE_YELLOW },\n    { name: 'SUGAR_BLUE', bar: CCLPastelColor.SUGAR_BLUE, bg: CCLVividColor.SODA_BLUE },\n    { name: 'MATCHA_GREEN', bar: CCLPastelColor.MATCHA_GREEN, bg: CCLVividColor.MELON_GREEN },\n    { name: 'AKEBI_PURPLE', bar: CCLPastelColor.AKEBI_PURPLE, bg: CCLVividColor.GRAPE_PURPLE },\n    { name: 'CLOUD_GREY', bar: CCLPastelColor.CLOUD_GREY, bg: CCLVividColor.WRAP_GREY }\n  ];\n</script>\n\n<div style=\"display: flex; flex-direction: column; gap: 40px; padding: 20px;\">\n  <div>\n    <h3>Vivid Colors</h3>\n    <div style=\"display: flex; flex-direction: column; gap: 20px;\">\n      {#each vividColors as colorOption}\n        <div\n          style=\"display: flex; flex-direction: column; align-items: center; gap: 10px; border: 1px solid #eee; padding: 15px; border-radius: 8px; width: 300px;\"\n        >\n          <ProgressBar\n            value={50}\n            maxValue={100}\n            barColor={colorOption.bar}\n            backgroundColor={colorOption.bg}\n            containerWidth=\"100%\"\n            height=\"20px\"\n          />\n          <span style=\"font-size: 14px; color: #555;\">{colorOption.name}</span>\n        </div>\n      {/each}\n    </div>\n  </div>\n\n  <div>\n    <h3>Pastel Colors</h3>\n    <div style=\"display: flex; flex-direction: column; gap: 20px;\">\n      {#each pastelColors as colorOption}\n        <div\n          style=\"display: flex; flex-direction: column; align-items: center; gap: 10px; border: 1px solid #eee; padding: 15px; border-radius: 8px; width: 300px;\"\n        >\n          <ProgressBar\n            value={50}\n            maxValue={100}\n            barColor={colorOption.bar}\n            backgroundColor={colorOption.bg}\n            containerWidth=\"100%\"\n            height=\"20px\"\n          />\n          <span style=\"font-size: 14px; color: #555;\">{colorOption.name}</span>\n        </div>\n      {/each}\n    </div>\n  </div>\n</div>\n","import type { Meta, StoryObj } from '@storybook/svelte';\nimport ProgressBar from '../lib/ProgressBar.svelte';\nimport { expect, within } from '@storybook/test';\nimport { CCLVividColor, CCLPastelColor, ProgressBarHeight } from '../lib/const/config';\n\nconst colorOptions = [...Object.values(CCLVividColor), ...Object.values(CCLPastelColor)];\n\nconst meta = {\n  title: 'CommonComponents/ProgressBar',\n  component: ProgressBar,\n  tags: ['autodocs'],\n  parameters: {\n    layout: 'padded'\n  },\n  argTypes: {\n    value: {\n      control: { type: 'range', min: 0, max: 100, step: 1 },\n      description: '現在の進捗 (0-100)'\n    },\n    maxValue: {\n      control: { type: 'number' },\n      description: '最大値'\n    },\n    barColor: {\n      control: { type: 'select' },\n      options: colorOptions,\n      description: 'プログレスバーの色'\n    },\n    backgroundColor: {\n      control: { type: 'select' },\n      options: colorOptions,\n      description: 'プログレスバーの背景色'\n    },\n    height: {\n      control: { type: 'select' },\n      options: Object.values(ProgressBarHeight),\n      description: 'プログレスバーの高さ'\n    },\n    containerWidth: {\n      control: { type: 'text' },\n      description: 'プログレスバー全体の幅 (例: \"100%\", \"300px\")'\n    },\n    isSticky: {\n      control: { type: 'boolean' },\n      description: 'ページ上部に固定表示するかどうか'\n    },\n    isRounded: {\n      control: { type: 'boolean' },\n      description: '角を丸くするかどうか'\n    }\n  }\n} satisfies Meta<ProgressBar>;\n\nexport default meta;\ntype Story = StoryObj<typeof meta>;\n\nimport AllColorsProgressBarWrapper from './AllColors/AllColorsProgressBarWrapper.svelte';\n\nexport const Default: Story = {\n  args: {\n    value: 50,\n    maxValue: 100,\n    barColor: CCLVividColor.SODA_BLUE,\n    backgroundColor: CCLPastelColor.SUGAR_BLUE,\n    height: ProgressBarHeight.DEFAULT,\n    containerWidth: '100%'\n  },\n  play: async ({ canvasElement, step, args }) => {\n    const canvas = within(canvasElement);\n    const progressBarContainer = canvas.getByRole('progressbar') as HTMLElement;\n    const progressBar = progressBarContainer.querySelector('.progress-bar') as HTMLElement;\n\n    await step('プログレスバーコンテナが表示されていること', async () => {\n      await expect(progressBarContainer).toBeInTheDocument();\n    });\n\n    await step('aria属性が正しく設定されていること', async () => {\n      await expect(progressBarContainer).toHaveAttribute('aria-valuenow', String(args.value));\n      await expect(progressBarContainer).toHaveAttribute('aria-valuemin', '0');\n      await expect(progressBarContainer).toHaveAttribute('aria-valuemax', String(args.maxValue));\n    });\n\n    await step('コンテナの幅と高さが指定通りであること', async () => {\n      expect(progressBarContainer.style.width).toBe(args.containerWidth);\n      expect(progressBarContainer.style.height).toBe(args.height);\n    });\n\n    await step('バーの幅(%)が正しく計算されてstyleに適用されていること', async () => {\n      const expectedProgress = (args.value / args.maxValue) * 100;\n      await expect(progressBar.style.width).toBe(`${expectedProgress}%`);\n    });\n  }\n};\n\nexport const NotRounded: Story = {\n  args: {\n    ...Default.args,\n    isRounded: false\n  },\n  play: async ({ canvasElement, step, args }) => {\n    const canvas = within(canvasElement);\n    const progressBarContainer = canvas.getByRole('progressbar') as HTMLElement;\n\n    await step('角が丸くなっていないこと', async () => {\n      const styles = window.getComputedStyle(progressBarContainer);\n      expect(styles.borderRadius).toBe('0px');\n    });\n  }\n};\n\nexport const Sticky: Story = {\n  args: {\n    ...Default.args,\n    isSticky: true\n  },\n  play: async ({ canvasElement, step, args }) => {\n    const canvas = within(canvasElement);\n    const progressBarContainer = canvas.getByRole('progressbar') as HTMLElement;\n\n    await step('ページ上部に固定されていること', async () => {\n      const styles = window.getComputedStyle(progressBarContainer);\n      expect(styles.position).toBe('fixed');\n    });\n  }\n};\n\nexport const FullProgress: Story = {\n  args: {\n    value: 100,\n    maxValue: 100,\n    barColor: CCLVividColor.MELON_GREEN,\n    backgroundColor: CCLPastelColor.LEMON_YELLOW,\n    height: ProgressBarHeight.WIDE,\n    containerWidth: '80%'\n  },\n  play: async ({ canvasElement, step, args }) => {\n    const canvas = within(canvasElement);\n    const progressBarContainer = canvas.getByRole('progressbar') as HTMLElement;\n    const progressBar = progressBarContainer.querySelector('.progress-bar') as HTMLElement;\n\n    await step('プログレスバーコンテナが表示されていること', async () => {\n      await expect(progressBarContainer).toBeInTheDocument();\n    });\n\n    await step('aria属性が正しく設定されていること', async () => {\n      await expect(progressBarContainer).toHaveAttribute('aria-valuenow', String(args.value));\n      await expect(progressBarContainer).toHaveAttribute('aria-valuemin', '0');\n      await expect(progressBarContainer).toHaveAttribute('aria-valuemax', String(args.maxValue));\n    });\n\n    await step('コンテナの幅と高さが指定通りであること', async () => {\n      expect(progressBarContainer.style.width).toBe(args.containerWidth);\n      expect(progressBarContainer.style.height).toBe(args.height);\n    });\n\n    await step('バーの幅(%)が正しく計算されてstyleに適用されていること', async () => {\n      const expectedProgress = (args.value / args.maxValue) * 100;\n      await expect(progressBar.style.width).toBe(`${expectedProgress}%`);\n    });\n  }\n};\n\nexport const AllColors: Story = {\n  render: () => ({ Component: AllColorsProgressBarWrapper }),\n  args: {},\n  parameters: {\n    docs: {\n      source: {\n        code: null\n      }\n    }\n  }\n};\n"],"names":["cov_exld00gp3","s","name","bar","CCLVividColor","GRAPE_PURPLE","bg","CCLPastelColor","AKEBI_PURPLE","pastelColors","MATCHA_GREEN","MELON_GREEN","CLOUD_GREY","WRAP_GREY","$","colorOption","colorOptions","Object","values","meta","title","component","ProgressBar","tags","parameters","layout","argTypes","value","control","type","min","max","step","description","maxValue","barColor","options","backgroundColor","height","ProgressBarHeight","containerWidth","isSticky","isRounded","Default","args","SODA_BLUE","SUGAR_BLUE","DEFAULT","play","canvasElement","progressBarContainer","within","getByRole","progressBar","querySelector","expect","toBeInTheDocument","toHaveAttribute","String","style","width","toBe","expectedProgress","NotRounded","styles","window","getComputedStyle","borderRadius","Sticky","position","FullProgress","LEMON_YELLOW","WIDE","AllColors","render","Component","AllColorsProgressBarWrapper","docs","source","code","originalSource"],"mappings":"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"}