{"version":3,"file":"Card.stories-wX47m_mj.js","sources":["../../../src/lib/Card.svelte","../../../src/stories/Card.stories.ts"],"sourcesContent":["<script lang=\"ts\">\n\timport { CCLPastelColor, CCLVividColor } from '$lib/const/config';\n\n\t/**\n\t * 枠線の色\n\t * @default --strawberry-pink\n\t * @type string\n\t */\n\texport let borderColor: string;\n\n\t/**\n\t * 画像ソース\n\t * @type string\n\t */\n\texport let src: string;\n\n\t/**\n\t * alt属性に指定する値\n\t * @type string\n\t */\n\texport let altText: string;\n\n\t/**\n\t * 記事の見出し\n\t * @type string\n\t */\n\texport let title: string;\n\n\t/**\n\t * カードの詳細テキスト(140字程度推奨)\n\t * @type string\n\t */\n\texport let cardText: string;\n\n\t/**\n\t * 枠線の色に応じた背景色を取得する関数\n\t * @param borderColor - 枠線の色\n\t * @returns 背景色\n\t */\n\tfunction getBodyColor(borderColor: string): string {\n\t\tswitch (borderColor) {\n\t\t\tcase CCLVividColor.STRAWBERRY_PINK:\n\t\t\t\treturn CCLPastelColor.PEACH_PINK;\n\t\t\tcase CCLVividColor.PINEAPPLE_YELLOW:\n\t\t\t\treturn CCLPastelColor.LEMON_YELLOW;\n\t\t\tcase CCLVividColor.SODA_BLUE:\n\t\t\t\treturn CCLPastelColor.SUGAR_BLUE;\n\t\t\tcase CCLVividColor.MELON_GREEN:\n\t\t\t\treturn CCLPastelColor.MATCHA_GREEN;\n\t\t\tcase CCLVividColor.GRAPE_PURPLE:\n\t\t\t\treturn CCLPastelColor.AKEBI_PURPLE;\n\t\t\tcase CCLVividColor.WRAP_GREY:\n\t\t\t\treturn CCLPastelColor.CLOUD_GREY;\n\t\t\tdefault:\n\t\t\t\treturn CCLPastelColor.PEACH_PINK;\n\t\t}\n\t}\n\n\t// 背景色を取得\n\t$: bodyColor = getBodyColor(borderColor);\n</script>\n\n<div class=\"CardWrapper\" style=\"--border-color: var({borderColor})\">\n\t<img class=\"CardImage\" {src} alt={altText} />\n\t<div class=\"CardInfo\" style=\"--background-color: var({bodyColor});\">\n\t\t<div class=\"CardTextWrapper\">\n\t\t\t<h2 class=\"CardTitle\">{title}</h2>\n\t\t\t<span class=\"CardText\">{cardText}</span>\n\t\t</div>\n\t</div>\n</div>\n\n<style>\n\t.CardWrapper {\n\t\theight: 500px;\n\t\twidth: 300px;\n\t\tposition: relative;\n\t\tbox-shadow: 0 10px 10px rgba(0, 0, 0, 0.25);\n\t\tborder-radius: 25px;\n\t\tborder: 5px solid var(--border-color);\n\t\tz-index: -1;\n\t}\n\n\t.CardImage {\n\t\theight: auto;\n\t\tmax-width: 100%;\n\t\ttop: 0;\n\t\tposition: absolute;\n\t\tborder-top-left-radius: 20px;\n\t\tborder-top-right-radius: 20px;\n\t}\n\n\t.CardInfo {\n\t\theight: 195px;\n\t\twidth: 300px;\n\t\tposition: absolute;\n\t\tbackground: var(--background-color);\n\t\ttop: 300px;\n\t\tborder-bottom-left-radius: 20px;\n\t\tborder-bottom-right-radius: 20px;\n\t\tborder-top: 5px solid var(--border-color);\n\t\tz-index: 1;\n\t}\n\n\t.CardTextWrapper {\n\t\theight: auto;\n\t\tmax-width: 95%;\n\t\tposition: absolute;\n\t\ttop: -5%;\n\t\tleft: 5%;\n\t\toverflow-wrap: break-word;\n\t}\n\n\t.CardTitle {\n\t\tcolor: var(--border-color);\n\t}\n\n\t.CardText {\n\t\tcolor: var(--wrap-grey);\n\t\ttext-overflow: ellipsis;\n\t\toverflow: hidden;\n\t}\n</style>\n","import type { Meta, StoryObj } from '@storybook/svelte';\nimport Card from '$lib/Card.svelte';\nimport { CCLVividColor } from '$lib/const/config';\nimport { expect, fn, userEvent, within } from '@storybook/test';\n\nconst colorOptions = [\n\tCCLVividColor.STRAWBERRY_PINK,\n\tCCLVividColor.PINEAPPLE_YELLOW,\n\tCCLVividColor.SODA_BLUE,\n\tCCLVividColor.MELON_GREEN,\n\tCCLVividColor.GRAPE_PURPLE,\n\tCCLVividColor.WRAP_GREY\n];\n\nconst meta = {\n\ttitle: 'CommonComponents/Card',\n\tcomponent: Card,\n\ttags: ['autodocs'],\n\tparameters: {\n\t\tlayout: 'fullscreen'\n\t},\n\targTypes: {\n\t\tborderColor: {\n\t\t\tcontrol: { type: 'select' },\n\t\t\toptions: colorOptions\n\t\t},\n\t\taltText: { control: { type: 'text' } },\n\t\ttitle: { control: { type: 'text' } },\n\t\tcardText: { control: { type: 'text' } },\n\t\tsrc: { control: { type: 'text' } }\n\t}\n} satisfies Meta<Card>;\n\nexport default meta;\ntype Story = StoryObj<typeof meta>;\n\nconst createStory = (\n\tborderColor: string,\n\taltText: string,\n\ttitle: string,\n\tcardText: string\n): Story => ({\n\targs: {\n\t\tborderColor,\n\t\tsrc: 'thumbnail.png',\n\t\taltText,\n\t\ttitle,\n\t\tcardText\n\t},\n\tplay: async ({ args, canvasElement, step }) => {\n\t\tconst canvas = within(canvasElement);\n\t\tawait step('カードのタイトルが正しく指定されていること', async () => {\n\t\t\tawait expect(args.title).toBe(title);\n\t\t});\n\t\tawait step('カードのテキストが正しく指定されていること', async () => {\n\t\t\tawait expect(args.cardText).toBe(cardText);\n\t\t});\n\t\tawait step('画像にalt属性が付与されていること', async () => {\n\t\t\tawait expect(canvas.getByRole('img')).toHaveAttribute('alt', altText);\n\t\t});\n\t\tawait step('色指定が正しく動作していること', async () => {\n\t\t\tawait expect(args.borderColor).toBe(borderColor);\n\t\t});\n\t}\n});\n\nexport const Default = createStory(\n\tCCLVividColor.STRAWBERRY_PINK,\n\t'Strawberry Pink',\n\t'プライマリカラーのカードです',\n\t'テキストテキストテキストテキストテキストテキストテキストテキストテキストテキスト'\n);\n\nexport const SecondColor = createStory(\n\tCCLVividColor.PINEAPPLE_YELLOW,\n\t'Pineapple Yellow',\n\t'セカンダリカラーのカードです',\n\t'テキストテキストテキストテキストテキストテキストテキストテキストテキストテキスト'\n);\n\nexport const ThirdColor = createStory(\n\tCCLVividColor.SODA_BLUE,\n\t'Soda Blue',\n\t'汎用的なお知らせ用のカードです',\n\t'テキストテキストテキストテキストテキストテキストテキストテキストテキストテキスト'\n);\n\nexport const Writing = createStory(\n\tCCLVividColor.MELON_GREEN,\n\t'Melon Green',\n\t'書籍出版お知らせ用のカードです',\n\t'テキストテキストテキストテキストテキストテキストテキストテキストテキストテキスト'\n);\n\nexport const Coding = createStory(\n\tCCLVividColor.GRAPE_PURPLE,\n\t'Grape Purple',\n\t'コーディング成果物お知らせ用のカードです',\n\t'テキストテキストテキストテキストテキストテキストテキストテキストテキストテキスト'\n);\n"],"names":["ctx","cov_1cx0d7h2hk","s","append_hydration","div2","img","div1","div0","CCLPastelColor","SUGAR_BLUE","CCLVividColor","GRAPE_PURPLE","b","colorOptions","STRAWBERRY_PINK","PINEAPPLE_YELLOW","SODA_BLUE","MELON_GREEN","WRAP_GREY","meta","title","component","Card","tags","parameters","layout","argTypes","borderColor","control","type","options","altText","cardText","src","createStory","args","play","canvasElement","step","canvas","within","expect","toBe","getByRole","toHaveAttribute","Default","SecondColor","ThirdColor","Writing","Coding","docs","source","originalSource"],"mappings":"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"}