import{v as k}from"./v4-CtRu48qb.js";import{o as C}from"./index-client-CHQgsneQ.js";import{a9 as I,aa as L}from"./runtime-gABUAsI6.js";var M=Object.defineProperty,j=(t,r)=>{for(var e in r)M(t,e,{get:r[e],enumerable:!0})};const{addons:B}=__STORYBOOK_MODULE_PREVIEW_API__,{ImplicitActionsDuringRendering:P}=__STORYBOOK_MODULE_CORE_EVENTS_PREVIEW_ERRORS__,{global:T}=__STORYBOOK_MODULE_GLOBAL__;var N=Object.defineProperty,Y=(t,r)=>{for(var e in r)N(t,e,{get:r[e],enumerable:!0})},V="storybook/actions",F=`${V}/action-event`,W={depth:10,clearOnStoryChange:!0,limit:50},S=(t,r)=>{let e=Object.getPrototypeOf(t);return!e||r(e)?e:S(e,r)},K=t=>!!(typeof t=="object"&&t&&S(t,r=>/^Synthetic(?:Base)?Event$/.test(r.constructor.name))&&typeof t.persist=="function"),U=t=>{if(K(t)){let r=Object.create(t.constructor.prototype,Object.getOwnPropertyDescriptors(t));r.persist();let e=Object.getOwnPropertyDescriptor(r,"view"),n=e==null?void 0:e.value;return typeof n=="object"&&(n==null?void 0:n.constructor.name)==="Window"&&Object.defineProperty(r,"view",{...e,value:Object.create(n.constructor.prototype)}),r}return t},$=()=>typeof crypto=="object"&&typeof crypto.getRandomValues=="function"?k():Date.now().toString(36)+Math.random().toString(36).substring(2);function f(t,r={}){let e={...W,...r},n=function(...i){var E,c;if(r.implicit){let _=(E="__STORYBOOK_PREVIEW__"in T?T.__STORYBOOK_PREVIEW__:void 0)==null?void 0:E.storyRenders.find(a=>a.phase==="playing"||a.phase==="rendering");if(_){let a=!((c=globalThis==null?void 0:globalThis.FEATURES)!=null&&c.disallowImplicitActionsInRenderV8),g=new P({phase:_.phase,name:t,deprecated:a});if(a)console.warn(g);else throw g}}let o=B.getChannel(),s=$(),p=5,u=i.map(U),v=i.length>1?u:u[0],R={id:s,count:0,data:{name:t,args:v},options:{...e,maxDepth:p+(e.depth||3),allowFunction:e.allowFunction||!1}};o.emit(F,R)};return n.isAction=!0,n.implicit=r.implicit,n}const{definePreview:pe}=__STORYBOOK_MODULE_PREVIEW_API__,{global:m}=__STORYBOOK_MODULE_GLOBAL__;var z={};Y(z,{argsEnhancers:()=>q,loaders:()=>Q});var w=(t,r)=>typeof r[t]>"u"&&!(t in r),H=t=>{let{initialArgs:r,argTypes:e,id:n,parameters:{actions:i}}=t;if(!i||i.disable||!i.argTypesRegex||!e)return{};let o=new RegExp(i.argTypesRegex);return Object.entries(e).filter(([s])=>!!o.test(s)).reduce((s,[p,u])=>(w(p,r)&&(s[p]=f(p,{implicit:!0,id:n})),s),{})},G=t=>{let{initialArgs:r,argTypes:e,parameters:{actions:n}}=t;return n!=null&&n.disable||!e?{}:Object.entries(e).filter(([i,o])=>!!o.action).reduce((i,[o,s])=>(w(o,r)&&(i[o]=f(typeof s.action=="string"?s.action:o)),i),{})},q=[G,H],x=!1,J=t=>{let{parameters:{actions:r}}=t;if(!(r!=null&&r.disable)&&!x&&"__STORYBOOK_TEST_ON_MOCK_CALL__"in m&&typeof m.__STORYBOOK_TEST_ON_MOCK_CALL__=="function"){let e=m.__STORYBOOK_TEST_ON_MOCK_CALL__;e((n,i)=>{let o=n.getMockName();o!=="spy"&&(!/^next\/.*::/.test(o)||["next/router::useRouter()","next/navigation::useRouter()","next/navigation::redirect","next/cache::","next/headers::cookies().set","next/headers::cookies().delete","next/headers::headers().set","next/headers::headers().delete"].some(s=>o.startsWith(s)))&&f(o)(i)}),x=!0}},Q=[J],X={};j(X,{decorators:()=>ae});function Z(t){L("after-navigate-args",t)}function b(t){return[{subscribe(r){let e=I(t);return r(e),()=>{}}},r=>{L(t,r)}]}var[_e,ee]=b("page-ctx"),[ge,te]=b("navigating-ctx"),[re,ne]=b("updated-ctx");re.check=()=>{};var oe=t=>typeof t=="function"?{callback:t,asRegex:!1}:t,ie=(t,r)=>{var n,i,o,s,p;let e=((n=r.parameters)==null?void 0:n.sveltekit_experimental)??{};return ee((i=e==null?void 0:e.stores)==null?void 0:i.page),te((o=e==null?void 0:e.stores)==null?void 0:o.navigating),ne((s=e==null?void 0:e.stores)==null?void 0:s.updated),Z((p=e==null?void 0:e.navigation)==null?void 0:p.afterNavigate),C(()=>{let u=c=>{let _=c.composedPath().findLast(a=>a instanceof HTMLElement&&a.tagName==="A");if(_&&_ instanceof HTMLAnchorElement){let a=_.getAttribute("href");if(!a)return;c.preventDefault();let g=()=>f("navigate")(a,c);if(!e.hrefs){g();return}let l=!0;Object.entries(e.hrefs).forEach(([d,h])=>{let{callback:O,asRegex:y}=oe(h);(y?new RegExp(d).test(a):a===d)&&(l=!1,O==null||O(a,c))}),l&&g()}};function v(c,_,a){let g=[];return _.forEach(l=>{var h;let d=((h=e[c])==null?void 0:h[l])&&e[c][l]instanceof Function;if(d||a){let O=({detail:A=[]})=>{let D=Array.isArray(A)?A:[];(d?e[c][l]:f(l))(...D)},y=`storybook:${l}`;g.push({eventType:y,listener:O}),window.addEventListener(y,O)}}),()=>{g.forEach(({eventType:l,listener:d})=>{window.removeEventListener(l,d)})}}let R=v("navigation",["goto","invalidate","invalidateAll","pushState","replaceState"],!0),E=v("forms",["enhance"]);return window.addEventListener("click",u),()=>{window.removeEventListener("click",u),R(),E()}}),t()},ae=[ie];export{ae as decorators};
//# sourceMappingURL=preview-D1Mc7lFC.js.map
